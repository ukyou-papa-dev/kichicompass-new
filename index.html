<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KichiCompass - ã‚ãªãŸã ã‘ã®é‹å‘½ã®ç¾…é‡ç›¤</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Hiragino Sans', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .countdown {
            position: fixed;
            top: 0;
            width: 100%;
            background: linear-gradient(90deg, #ff0000, #ff6600);
            padding: 12px;
            text-align: center;
            font-weight: bold;
            z-index: 1000;
            animation: flash 1s infinite;
        }
        
        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }
        
        h1 {
            font-size: 3em;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .visitor-count {
            text-align: center;
            margin: 20px 0;
        }
        
        .visitor-badge {
            display: inline-block;
            background: rgba(0,0,0,0.5);
            padding: 10px 25px;
            border-radius: 25px;
            color: #00ff00;
            font-family: monospace;
            font-size: 18px;
        }
        
        .fortune-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .fortune-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }
        
        .fortune-card:hover {
            transform: translateY(-10px) scale(1.05);
            background: rgba(255,255,255,0.2);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .fortune-card h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 18px 50px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.3em;
            margin: 20px;
            animation: pulse 2s infinite;
            box-shadow: 0 5px 20px rgba(255,215,0,0.5);
            border: none;
            cursor: pointer;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,215,0,0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(255,215,0,0); }
            100% { transform: scale(1); }
        }
        
        .popup {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            color: #333;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            animation: slideIn 0.5s;
            z-index: 999;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-150%); }
            to { transform: translateX(0); }
        }
        
        #form-section, #result-section {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            margin: 10px auto;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            display: block;
        }
    </style>
</head>
<body>
    <div class="countdown" id="countdown">
        âš ï¸ åˆå›87%OFFçµ‚äº†ã¾ã§: è¨ˆç®—ä¸­...
    </div>
    
    <div class="container">
        <h1>ğŸ”® KichiCompass ğŸ”®</h1>
        <p style="text-align:center;font-size:1.2em;">ã‚ãªãŸã ã‘ã®é‹å‘½ã®ç¾…é‡ç›¤</p>
        
        <div class="visitor-count">
            <div class="visitor-badge" id="visitors">
                ğŸ”´ ç¾åœ¨523åãŒé‘‘å®šä¸­
            </div>
        </div>
        
        <div class="fortune-grid">
            <div class="fortune-card" onclick="startFortune('astrology')">
                <h3>â­ è¥¿æ´‹å æ˜Ÿè¡“</h3>
                <p>12æ˜Ÿåº§ãŒå°ãé‹å‘½</p>
            </div>
            <div class="fortune-card" onclick="startFortune('tarot')">
                <h3>ğŸ´ ã‚¿ãƒ­ãƒƒãƒˆå ã„</h3>
                <p>78æšãŒç¤ºã™çœŸå®Ÿ</p>
            </div>
            <div class="fortune-card" onclick="startFortune('shichu')">
                <h3>ğŸ‰ å››æŸ±æ¨å‘½</h3>
                <p>æ±æ´‹æœ€é«˜ã®çš„ä¸­ç‡</p>
            </div>
            <div class="fortune-card" onclick="startFortune('numerology')">
                <h3>ğŸ”¢ æ•°ç§˜è¡“</h3>
                <p>æ•°å­—ãŒå°ãä½¿å‘½</p>
            </div>
        </div>
        
        <div style="text-align:center;">
            <button class="cta-button" onclick="startFortune()">
                ç„¡æ–™ã§ä»Šã™ãå ã†
            </button>
        </div>
        
        <div id="form-section">
            <h2>ã‚ãªãŸã®æƒ…å ±ã‚’å…¥åŠ›</h2>
            <input type="text" id="name" placeholder="ãŠåå‰" required>
            <input type="date" id="birthdate" required>
            <input type="email" id="email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹">
            <button class="cta-button" onclick="showResult()">
                é‹å‘½ã‚’è¦‹ã‚‹
            </button>
        </div>
        
        <div id="result-section">
            <h2 id="result-name">çµæœ</h2>
            <div style="background:rgba(255,255,255,0.1);padding:30px;border-radius:15px;margin:20px 0;">
                <p id="result-text"></p>
            </div>
            <div style="filter:blur(5px);background:rgba(255,255,255,0.05);padding:30px;border-radius:15px;position:relative;">
                <p>ã•ã‚‰ã«è©³ã—ã„å†…å®¹ãŒ...</p>
                <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.9);padding:20px;border-radius:10px;">
                    <p style="color:gold;font-size:1.2em;">ğŸ’« å®Œå…¨ç‰ˆã‚’è§£æ”¾ ğŸ’«</p>
                    <a href="https://buy.stripe.com/test_https://buy.stripe.com/test_aFa7sK5bP99E2pF8BUcV200" class="cta-button">
                        ä»Šã ã‘480å††
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³
        setInterval(() => {
            const now = new Date();
            const tonight = new Date();
            tonight.setHours(23, 59, 59);
            const diff = tonight - now;
            const h = Math.floor(diff / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            document.getElementById('countdown').textContent = 
                `âš ï¸ åˆå›87%OFFçµ‚äº†ã¾ã§: ${h}æ™‚é–“${m}åˆ†${s}ç§’`;
        }, 1000);
        
        // è¨ªå•è€…æ•°
        setInterval(() => {
            const count = 500 + Math.floor(Math.random() * 150);
            document.getElementById('visitors').textContent = 
                `ğŸ”´ ç¾åœ¨${count}åãŒé‘‘å®šä¸­`;
        }, 3000);
        
        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
        setInterval(() => {
            const messages = [
                'æ±äº¬éƒ½ã®Aæ§˜ãŒç”³ã—è¾¼ã¿ã¾ã—ãŸ',
                'å¤§é˜ªåºœã®Kæ§˜ãŒæœ‰æ–™ãƒ—ãƒ©ãƒ³ã«ç™»éŒ²',
                'ç¦å²¡çœŒã®Mæ§˜ãŒå ã„ã‚’å®Œäº†'
            ];
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.textContent = messages[Math.floor(Math.random() * messages.length)];
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 4000);
        }, 8000);
        
        // å ã„é–‹å§‹
        function startFortune(type) {
            document.getElementById('form-section').style.display = 'block';
            if(type) localStorage.setItem('fortuneType', type);
        }
        
        // çµæœè¡¨ç¤º
        function showResult() {
            const name = document.getElementById('name').value || 'ã‚ãªãŸ';
            document.getElementById('result-section').style.display = 'block';
            document.getElementById('result-name').textContent = `${name}æ§˜ã®é‹å‘½`;
            document.getElementById('result-text').innerHTML = `
                ${name}æ§˜ã€é©šãã¹ãã“ã¨ã«ã€ã‚ãªãŸã«ã¯ç‰¹åˆ¥ãªæ‰èƒ½ãŒçœ ã£ã¦ã„ã¾ã™ã€‚<br><br>
                è¿‘ã„å°†æ¥ã€äººç”Ÿã‚’å¤‰ãˆã‚‹é‡è¦ãªå‡ºä¼šã„ãŒè¨ªã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚<br><br>
                ã—ã‹ã—ã€æ³¨æ„ã™ã¹ãæ™‚æœŸãŒã‚ã‚Š...
            `;
            document.getElementById('form-section').style.display = 'none';
        }
    </script>
</body>
</html>
<!-- æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã®<script>ã‚¿ã‚°å†…ã«ä»¥ä¸‹ã‚’è¿½åŠ  -->
<script>
// æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã®å¾Œã«è¿½åŠ 

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«å®Ÿè¡Œ
window.addEventListener('load', function() {
    // åˆå›è¨ªå•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    setTimeout(() => {
        const welcome = document.createElement('div');
        welcome.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            z-index: 10000;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
            animation: fadeIn 0.5s;
        `;
        welcome.innerHTML = `
            <h2 style="margin-bottom:15px;">ğŸŒŸ ç‰¹åˆ¥ãªãŠçŸ¥ã‚‰ã› ğŸŒŸ</h2>
            <p style="margin-bottom:20px;">ã‚ãªãŸã¯é¸ã°ã‚Œã—${Math.floor(Math.random() * 100) + 1}äººç›®ã®è¨ªå•è€…ã§ã™ï¼</p>
            <p style="color:#FFD700;font-size:1.2em;margin-bottom:20px;">ä»Šã ã‘åˆå›87%OFF</p>
            <button onclick="this.parentElement.remove()" style="
                background: linear-gradient(45deg, #FFD700, #FFA500);
                color: white;
                border: none;
                padding: 12px 30px;
                border-radius: 25px;
                font-size: 16px;
                cursor: pointer;
                font-weight: bold;
            ">ç‰¹åˆ¥ä¾¡æ ¼ã§å§‹ã‚ã‚‹</button>
        `;
        document.body.appendChild(welcome);
    }, 2000);

    // é›¢è„±é˜²æ­¢å¼·åŒ–
    let exitIntent = false;
    document.addEventListener('mouseout', function(e) {
        if (e.clientY < 10 && !exitIntent) {
            exitIntent = true;
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
            `;
            modal.innerHTML = `
                <div style="background:white;padding:40px;border-radius:20px;text-align:center;max-width:400px;">
                    <h2 style="color:#ff0000;margin-bottom:20px;">âš ï¸ ã¡ã‚‡ã£ã¨å¾…ã£ã¦ï¼</h2>
                    <p style="color:#333;margin-bottom:20px;">ä»Šãªã‚‰ç‰¹åˆ¥ã«<br><span style="font-size:2em;color:#ff0000;">90%OFF</span><br>ã§ã”æä¾›ã—ã¾ã™ï¼</p>
                    <p style="color:#666;margin-bottom:20px;">ã“ã®ãƒãƒ£ãƒ³ã‚¹ã¯äºŒåº¦ã¨ã‚ã‚Šã¾ã›ã‚“</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: linear-gradient(45deg, #ff0000, #ff6600);
                        color: white;
                        border: none;
                        padding: 15px 40px;
                        border-radius: 30px;
                        font-size: 18px;
                        cursor: pointer;
                        font-weight: bold;
                        animation: pulse 1s infinite;
                    ">ä»Šã™ã90%OFFã§å§‹ã‚ã‚‹</button>
                </div>
            `;
            document.body.appendChild(modal);
        }
    });
});

// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«èª˜å°
document.querySelectorAll('.fortune-card').forEach(card => {
    card.addEventListener('click', function() {
        // ã‚«ãƒ¼ãƒ‰é¸æŠæ™‚ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
            this.style.transform = '';
        }, 200);
    });
});
</script>
<!-- </body>ã‚¿ã‚°ã®ç›´å‰ã«è¿½åŠ  -->
<script>
// å ã„ãƒ­ã‚¸ãƒƒã‚¯æœ¬ä½“
const fortuneTelling = {
    // è¥¿æ´‹å æ˜Ÿè¡“
    astrology: function(name, birthdate) {
        const date = new Date(birthdate);
        const month = date.getMonth() + 1;
        const day = date.getDate();
        
        let zodiac = '';
        if ((month == 3 && day >= 21) || (month == 4 && day <= 19)) zodiac = 'ç‰¡ç¾Šåº§';
        else if ((month == 4 && day >= 20) || (month == 5 && day <= 20)) zodiac = 'ç‰¡ç‰›åº§';
        else if ((month == 5 && day >= 21) || (month == 6 && day <= 20)) zodiac = 'åŒå­åº§';
        else if ((month == 6 && day >= 21) || (month == 7 && day <= 22)) zodiac = 'èŸ¹åº§';
        else if ((month == 7 && day >= 23) || (month == 8 && day <= 22)) zodiac = 'ç…å­åº§';
        else if ((month == 8 && day >= 23) || (month == 9 && day <= 22)) zodiac = 'ä¹™å¥³åº§';
        else if ((month == 9 && day >= 23) || (month == 10 && day <= 22)) zodiac = 'å¤©ç§¤åº§';
        else if ((month == 10 && day >= 23) || (month == 11 && day <= 21)) zodiac = 'è åº§';
        else if ((month == 11 && day >= 22) || (month == 12 && day <= 21)) zodiac = 'å°„æ‰‹åº§';
        else if ((month == 12 && day >= 22) || (month == 1 && day <= 19)) zodiac = 'å±±ç¾Šåº§';
        else if ((month == 1 && day >= 20) || (month == 2 && day <= 18)) zodiac = 'æ°´ç“¶åº§';
        else zodiac = 'é­šåº§';
        
        return `
            <h3>${name}æ§˜ã¯${zodiac}ã§ã™</h3>
            <div style="background:rgba(255,255,255,0.1);padding:20px;border-radius:10px;margin:20px 0;">
                <h4>ğŸŒŸ æ‹æ„›é‹</h4>
                <p>${name}æ§˜ã®æ‹æ„›é‹ã¯ä»Šã€ç‰¹åˆ¥ãªè»¢æ©Ÿã‚’è¿ãˆã¦ã„ã¾ã™ã€‚${zodiac}ã®æŒã¤é­…åŠ›ãŒæœ€å¤§é™ã«ç™ºæ®ã•ã‚Œã‚‹æ™‚æœŸã§ã™ã€‚</p>
                <p>ç‰¹ã«ä»Šæœˆã®15æ—¥å‰å¾Œã¯é‡è¦ãªå‡ºä¼šã„ã®å¯èƒ½æ€§ãŒ...</p>
            </div>
            <div style="filter:blur(3px);background:rgba(255,255,255,0.05);padding:20px;border-radius:10px;position:relative;">
                <p>ã—ã‹ã—ã€${name}æ§˜ã«ã¯æ³¨æ„ã™ã¹ãæ™‚æœŸãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«...</p>
                <p>é‡‘é‹ã§ã¯é©šãã¹ãå¤‰åŒ–ãŒ...</p>
                <p>å¥åº·é¢ã§ã¯${zodiac}ç‰¹æœ‰ã®...</p>
                <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);padding:20px;border-radius:10px;text-align:center;">
                    <p style="color:gold;font-size:1.2em;">ğŸ’« è©³ç´°ã‚’è§£æ”¾ ğŸ’«</p>
                    <p style="color:white;">ã“ã®å…ˆã®é‡è¦ãªæƒ…å ±ã‚’è¦‹ã‚‹</p>
                    <a href="https://buy.stripe.com/test_ã‚ãªãŸã®URL" class="cta-button" style="margin-top:10px;">
                        ä»Šã ã‘480å††
                    </a>
                </div>
            </div>
        `;
    },
    
    // ã‚¿ãƒ­ãƒƒãƒˆ
    tarot: function(name) {
        const cards = [
            'æ„šè€…ï¼šæ–°ã—ã„å§‹ã¾ã‚Šã€ç„¡é™ã®å¯èƒ½æ€§',
            'é­”è¡“å¸«ï¼šå‰µé€ åŠ›ã€å®Ÿç¾åŠ›',
            'å¥³æ•™çš‡ï¼šç›´æ„Ÿã€å†…ãªã‚‹å£°',
            'å¥³å¸ï¼šè±Šç©£ã€æ¯æ€§',
            'çš‡å¸ï¼šæ¨©å¨ã€å®‰å®š',
            'æ•™çš‡ï¼šä¼çµ±ã€ç²¾ç¥æ€§',
            'æ‹äººï¼šé¸æŠã€èª¿å’Œ',
            'æˆ¦è»Šï¼šå‹åˆ©ã€æ„å¿—åŠ›',
            'åŠ›ï¼šå†…ãªã‚‹å¼·ã•ã€å¿è€',
            'éš è€…ï¼šå†…çœã€çœŸç†ã®æ¢æ±‚'
        ];
        
        const past = cards[Math.floor(Math.random() * cards.length)];
        const present = cards[Math.floor(Math.random() * cards.length)];
        const future = cards[Math.floor(Math.random() * cards.length)];
        
        return `
            <h3>${name}æ§˜ã®ã‚¿ãƒ­ãƒƒãƒˆå ã„çµæœ</h3>
            <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin:20px 0;">
                <div style="background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;">
                    <h4>éå»</h4>
                    <p>${past}</p>
                </div>
                <div style="background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;">
                    <h4>ç¾åœ¨</h4>
                    <p>${present}</p>
                </div>
                <div style="background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;">
                    <h4>æœªæ¥</h4>
                    <p>${future}</p>
                </div>
            </div>
            <div style="filter:blur(3px);padding:20px;position:relative;">
                <p>ã‚«ãƒ¼ãƒ‰ãŒç¤ºã™${name}æ§˜ã®æœ¬å½“ã®é‹å‘½ã¯...</p>
                <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);padding:20px;border-radius:10px;">
                    <a href="https://buy.stripe.com/test_ã‚ãªãŸã®URL" class="cta-button">
                        å®Œå…¨è§£é‡ˆã‚’è¦‹ã‚‹
                    </a>
                </div>
            </div>
        `;
    }
};

// å ã„çµæœã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°ã‚’ä¿®æ­£
function showResult() {
    const name = document.getElementById('name').value || 'ã‚ãªãŸ';
    const birthdate = document.getElementById('birthdate').value;
    const fortuneType = localStorage.getItem('fortuneType') || 'astrology';
    
    let resultHTML = '';
    
    switch(fortuneType) {
        case 'astrology':
            resultHTML = fortuneTelling.astrology(name, birthdate);
            break;
        case 'tarot':
            resultHTML = fortuneTelling.tarot(name);
            break;
        default:
            resultHTML = fortuneTelling.astrology(name, birthdate);
    }
    
    document.getElementById('result-section').style.display = 'block';
    document.getElementById('result-section').innerHTML = `
        <div style="max-width:800px;margin:0 auto;padding:20px;">
            ${resultHTML}
        </div>
    `;
    
    document.getElementById('form-section').style.display = 'none';
    
    // çµæœã‚’ä¿å­˜
    const results = JSON.parse(localStorage.getItem('fortuneResults') || '[]');
    results.push({
        name: name,
        type: fortuneType,
        date: new Date().toISOString()
    });
    localStorage.setItem('fortuneResults', JSON.stringify(results));
}
</script>
